{% extends "sbase.html" %}
{% load staticfiles %}

{% block content %}

<script>

function shld_showResult(sstr){
  if(sstr.length > 0)    showResult(sstr);
  
}
function myasd(aaq){
  document.getElementById('approver_result_area').value = aaq;     

            }
function showResult(str) {
  document.getElementById("approver_result").classList.add("active");
  document.getElementById("approver_result").classList.add("visible"); 
  document.getElementById("approver_result_drop").classList.add("transition");
  document.getElementById("approver_result_drop").classList.add("visible"); 
  if (str.length==0) {
    document.getElementById("form_aprv_name").innerHTML="";
    document.getElementById("form_aprv_name").style.border="0px";
    return;
  }
  if (window.XMLHttpRequest) {
    xmlhttp=new XMLHttpRequest();
  } else {
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
  xmlhttp.onreadystatechange=function() {
    if (this.readyState==4 && this.status==200) {
      console.log(this.responseText);
      var parsedJSON = JSON.parse(this.responseText);
      
      var res_arr ='';
      document.getElementById('approver_result_drop').innerHTML = ' ';
       for (var i=0;i<parsedJSON.length;i++) {
            console.log(parsedJSON[i].fields.usr_name);
            console.log(parsedJSON.length);
            //
            var res_len = parsedJSON.length;
            var target = document.getElementById('approver_result_drop');
            
            var str = "<a id='apprv-apprv'  onclick='myasd(\"" + parsedJSON[i].fields.usr_name + "\")' class='item'>" + parsedJSON[i].fields.usr_name + "</a>";

            var temp = document.createElement('div');
            //target.innerHTML = str;
            if (typeof str != 'undefined'){
              res_arr += str; 
            }
         }
            target.innerHTML = res_arr;
      
    }
  }
  xmlhttp.open("GET","/portal/approver/search?search="+str,true);
  xmlhttp.send();
}
</script>


 <script>
 
 $(document).ready(function(){


$('#apprv-apprv').click(function() {
    //$( this ).slideUp();
    alert("Yes i clicked");
    
    ///$( "#coe_infra" ).slideUp();  
});

  {% comment %} $( "#coe_endpoint" ).click(function() {
    //$( this ).slideUp();
    alert("Yes i clicked");
    $( "#coe_das" ).slideDown();
    $( "#coe_das" ).prop( "checked", true );
    ///$( "#coe_infra" ).slideUp();  
}); {% endcomment %}

   {% comment %} $('#nxtpagebtn').click(function(){
     $( "#epsrvcs" ).removeClass( "hidme" )     
     $( "#btnset1" ).addClass( "hidme" )
   }) {% endcomment %}

   $('#eps').click(function(){
     $( "#malwarebox" ).removeClass( "hidme" )   
   })

   $('#prvwbtn').click(function(){
     $( "#tnconds" ).removeClass( "hidme" )   
     $( "#finlbtnset" ).removeClass( "hidme" )    
     //$( "#prvwhmpgbtn" ).addClass( "hidme" )  
   })

    $('#varr1').click(function(){
        $('#w11').html('2');
        $('#w12').html('2');
        $('#w13').html('2');
        $('#w21').html('2');
        $('#w22').html('2');
        $('#w23').html('2');
        $('#w31').html('2');
        $('#w32').html('2');
        $('#w33').html('2');
        $('#w41').html('2');
        $('#w42').html('2');
        $('#w43').html('2');
        $('#w51').html('2');
        $('#w52').html('2');
        $('#w53').html('2');
        $('#w61').html('2');
        $('#w62').html('2');
        $('#w63').html('2');
        $('#w71').html('2');
        $('#w72').html('2');
        $('#w73').html('2');
        $('#w81').html('2');
        $('#w82').html('2');
        $('#w83').html('2');
        $('#w91').html('2');
        $('#w92').html('2');
        $('#w93').html('2');
        //alert("sdf");
        //$('#total').text('Product price: $1000');
    });
 });
 </script>
<div class="ui fixed inverted menu" style="border-radius: 0;background:#02284E;margin: 0!important;">
<a href="/" class="header item">
        <img class="logo" style="height: 40px;width: 114px;" src="/static/assets/images/logo.png">
        
      </a>
  <a href="/" class="header item">Home</a>
  <div href="/portal/quote/" class="active item">Quotes</div>
  <a href="/portal/quote/list" class="item">List</a>
        <a id="qweas" class="item">[]</a>


  <div class="right menu">


    <div class="item">
      {% comment %} <div class="ui transparent inverted icon input">
        <i class="search icon"></i>
        <input style="background: transparent;border-color: black; color: white;" type="text" placeholder="Search">
      </div> {% endcomment %}
    </div>
     {% if user.is_authenticated %}
         <a class="item">{{ user.username }}</a>

          <form id='my_form' method="post" action="/accounts/logout/">
             {% csrf_token %}
            <a href="javascript:{}"  style="height: 100%!important;" class="item" onclick="document.getElementById('my_form').submit();">Sign Out </a>
          </form>

      {% else %}
        <a href="/auth/login/" class="item">Login</a>
        <a href="/auth/signup/" class="item">Signup</a>
      {% endif %}
  </div>
</div>

  <div class="ui main container" style="width: 90%;">
    <h1 class="ui header">Service Solution Estimator #1</h1>
    <p>IBM India Pvt. Ltd.</p>
    <p style="color:white;">...</p>
    
  </div>
  {% comment %} <br>
  <hr style="width: 60%;color: #a1a0a0">
  <br> {% endcomment %}

  <div class="ui divider"></div><br>

{% comment %} <form method="POST" action="/portal/quote/preview"> {% endcomment %}
<form method="POST" action="/portal/quote/second">
{% csrf_token %}
  <!-- Container START -->
  <div class="ui container" style="width: 90%;">
    
    <div class="ui  attached buttons">
        <div class="ui button">Customer Account Information</div>
    </div>

      <div class="ui four column stackable grid attached segment">

        <!-- Main Clolumns 1 START -->
          <div class="column">
            <div class="ui labeled input" style="width:100%">
               <a class="ui label"> Form ID # </a>
               <input type="text" name="form_id" value="{{frm_flds.id}}">
            </div>
            <div class="ui divider"></div>
            <div class="ui  labeled input" style="width:100%">
               <a class="ui label"> Form Status </a>
               <input type="text" name="form_status" value="{{frm_flds.form_status}}">
            </div>
            <div class="ui divider"></div>
            <div class="ui  labeled input" style="width:100%">
                <a class="ui label"> Requestor </a>
                <input type="text"  name="requestor_name" placeholder="Placeholder..." value="{{user.username}}">
            </div>
            <div class="ui divider"></div>
              <div class="ui  labeled input" style="width:100%">
                <a class="ui label"> Requestor ID </a>
                <input type="text" name="requestor_email" placeholder="Enter your email Id" value="{{user.email}}" >
            </div>

          </div>
        <!-- -END- -->
        
        <!-- Main Clolumns 2 START -->
          <div class="column">
            <div class="ui labeled input" style="width:100%">
               <a class="ui label"> Submission Date </a>
               <input type="date"  name="submission_date" value="2018-08-08" required>
             </div>
            <div class="ui divider"></div>
            <div class="ui  labeled input" style="width:100%">
               <a class="ui label"> Valid upto </a>
               <input type="date"  name="valid_upto" value="2018-10-08" required>
            </div>
            <div class="ui divider"></div>
             <div class="ui  labeled input" style="width:100%">
               <a class="ui label"> Sales Connect# </a>
               <input type="text"  name="sales_connect" placeholder="" value="" required>
            </div>
            <div class="ui divider"></div>
            <div class="ui  labeled input" style="width:100%">
               <a class="ui label"> RFS# </a>
               <input type="text"  name="form_rfs" placeholder="" value="" required>
           </div>
          </div>
        <!-- -END- -->
        
          <!-- Main Clolumns 3 START -->
          <div class="column">
              <div class="ui labeled input" style="width:100%">
               <a class="ui label"> Customer/ Account Name </a>
               <input name="form_acc_name" type="text" placeholder="" value="" required>
              </div>
              <div class="ui divider"></div>
                <div class="ui  labeled input" style="width:100%">
                  <a class="ui label"> Customer ID </a>
                  <input name="form_cstmr_id" type="text" placeholder="" value="" required>
              </div>
              <div class="ui divider"></div>
                <div class="ui  labeled input" style="width:100%">
                  <a class="ui label"> Sales ID </a>
                  <input name="form_sales_id" type="text" placeholder="" value="" required>
              </div>
                   
              <div class="ui divider"></div>

              <div class="ui right labeled input" style="width:100%">
              <a class="ui label"> Approver's Name </a>
              <input id="approver_result_area"  onkeyup="shld_showResult(this.value);" name="form_aprv_name" style="border: 0;" type="text" value="" required> 
              <div class="ui dropdown label" id="approver_result">
                <div class="text" id="approver_result_2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>
                <i class="dropdown icon"></i>
                <div class="menu" id="approver_result_drop">
                  <a href="javascript:{}" onclick="document.getElementById('approver_result_area').value='low';" class="item">Low</a>
                  <a href="javascript:{}" onclick="document.getElementById('approver_result_area').value='medium';" class="item">Medium</a>
                  <a href="javascript:{}" onclick="document.getElementById('approver_result_area').value='high';" class="item">High</a>
                </div>
              </div>            
             </div>
            

            </div>
        <!-- -END- -->
        

        <!-- Main Clolumns 4 START -->
          <div class="column">
            
             <div class="ui right labeled input" style="width:100%">
              <a class="ui label"> Risk Rating </a>
              <input id="rsk-rating" name="rsk_rating" style="border: 0;" type="text" value="" required> 
              <div class="ui dropdown label">
                <div class="text">Select</div>
                <i class="dropdown icon"></i>
                <div class="menu">
                  <a href="javascript:{}" onclick="document.getElementById('rsk-rating').value='low';" class="item">Low</a>
                  <a href="javascript:{}" onclick="document.getElementById('rsk-rating').value='medium';" class="item">Medium</a>
                  <a href="javascript:{}" onclick="document.getElementById('rsk-rating').value='high';" class="item">High</a>
                </div>
              </div>            
             </div>
             
            <div class="ui divider"></div>

             <div class="ui right labeled input" style="width:100%">
              <a class="ui label"> Region </a>
              <input id="rsk-region" name="rsk_region" style="border: 0;" type="text" placeholder=""  value="" required>
              <div class="ui dropdown label">
                <div class="text">Select</div>
                <i class="dropdown icon"></i>
                <div class="menu">
                  <a href="javascript:{}" onclick="document.getElementById('rsk-region').value='usa1';" class="item">USA 1</a>
                  <a href="javascript:{}" onclick="document.getElementById('rsk-region').value='indiagdc';" class="item">India GDC</a>
                  <a  href="javascript:{}" onclick="document.getElementById('rsk-region').value='indiadom';" class="item">India DOM</a>
                  <a  href="javascript:{}" onclick="document.getElementById('rsk-region').value='modrics';" class="item">NORDICS-Home 1</a>
                  <a  href="javascript:{}" onclick="document.getElementById('rsk-region').value='czech';" class="item">CZECH GDC</a>
                  <a  href="javascript:{}" onclick="document.getElementById('rsk-region').value='anz';" class="item">ANZ</a>
                  <a  href="javascript:{}" onclick="document.getElementById('rsk-region').value='africa';" class="item">AFRICA</a>
                  <a  href="javascript:{}" onclick="document.getElementById('rsk-region').value='usesme';" class="item">USE SME</a>
                  <a  href="javascript:{}" onclick="document.getElementById('rsk-region').value='notselected';" class="item">Not Selected Yet</a>
                </div>
              </div>           
             </div>
             
             <div class="ui divider"></div>

             <div class="ui right labeled input" style="width:100%">
               <a class="ui label"> Custom </a>
               <input id="rsk-custom" name="rsk_custom" style="border: 0;" type="none" placeholder=""  value="" required>
               <div class="ui dropdown label">
                <div class="text">Select</div>
                <i class="dropdown icon"></i>
                <div class="menu">
                  <a href="javascript:{}" onclick="document.getElementById('rsk-custom').value='yes';" class="item">Yes</a>
                  <a href="javascript:{}" onclick="document.getElementById('rsk-custom').value='no';" class="item">No</a>
                </div>
              </div>
             </div>

            <div class="ui divider"></div>

          </div>

        

      </div> 
  </div>
  <!-- Container END -->
<br>
<!-- Selected COE -->
<div class="ui center aligned container"  style="width: 90%;">
  <div class="ui  attached buttons">
      <div class="ui button">Selected COE</div>
  </div>
  <!-- Container -->
  <div class="ui five column stackable grid attached segment">
         <div class="column">            
            <div class="ui labeled input" style="width:100%">
            <a class="ui label"> Endpoint </a>
            <input type="checkbox" id="coe_endpoint"  name="coe_endpoint" value="true" placeholder="Placeholder..." value="">              
            </div>
         </div>
        <div class="column">            
            <div class="ui labeled input" style="width:100%">
            <a class="ui label"> DAS </a>
            <input type="checkbox" id="coe_das"  name="coe_das" value="true" placeholder="Placeholder..." value="">              
            </div>
         </div>
         <div class="column">            
            <div class="ui labeled input" style="width:100%">
            <a class="ui label"> Infra </a>
            <input type="checkbox"  name="coe_infra" value="true" placeholder="Placeholder..." value="">              
            </div>
         </div>
         <div class="column">            
            <div class="ui labeled input" style="width:100%">
            <a class="ui label"> IAM</a>
            <input type="checkbox"  name="coe_iam" value="true" placeholder="Placeholder..." value="">              
            </div>
         </div>
         <div class="column">            
            <div class="ui labeled input" style="width:100%">
            <a class="ui label"> SIOC </a>
            <input type="checkbox"  name="coe_sioc" value="true" placeholder="Placeholder..." value="">              
            </div>
         </div>
    </div>
</div>

<br>


<div id="btnset1" class="ui  center aligned container">
  <br>
  <br>
        <a id="" class="ui secondary button">Reset All</a> &nbsp;&nbsp;&nbsp;
        <button id="nxtpagebtn" class="ui primary button">Next Page</button>
</div>

<br>

<!--div id="finlbtnset" class="ui center aligned container hidme"  style="width: 90%;">
        <a class="ui red button">Cancel</a> &nbsp;&nbsp;&nbsp;
        <button class="ui primary button">Submit</button>
</div-->

</div>
</form>

  <div class="ui inverted vertical footer segment">
    <div class="ui center aligned container">
      <div class="ui stackable inverted divided grid">
        <div class="three wide column">
          <h4 class="ui inverted header">Group 1</h4>
          <div class="ui inverted link list">
            <a href="#" class="item">Link One</a>
            <a href="#" class="item">Link Two</a>
            <a href="#" class="item">Link Three</a>
            <a href="#" class="item">Link Four</a>
          </div>
        </div>
        <div class="three wide column">
          <h4 class="ui inverted header">Group 2</h4>
          <div class="ui inverted link list">
            <a href="#" class="item">Link One</a>
            <a href="#" class="item">Link Two</a>
            <a href="#" class="item">Link Three</a>
            <a href="#" class="item">Link Four</a>
          </div>
        </div>
        <div class="three wide column">
          <h4 class="ui inverted header">Group 3</h4>
          <div class="ui inverted link list">
            <a href="#" class="item">Link One</a>
            <a href="#" class="item">Link Two</a>
            <a href="#" class="item">Link Three</a>
            <a href="#" class="item">Link Four</a>
          </div>
        </div>
        <div class="seven wide column">
          <h4 class="ui inverted header">Footer Header</h4>
          <p>Extra space for a call to action inside the footer that could help re-engage users.</p>
        </div>
      </div>
      <div class="ui inverted section divider"></div>
      <img href="/static/assets/images/logo.png" class="ui centered mini image">
      <div class="ui horizontal inverted small divided link list">
        <a class="item" href="#">Site Map</a>
        <a class="item" href="#">Contact Us</a>
        <a class="item" href="#">Terms and Conditions</a>
        <a class="item" href="#">Privacy Policy</a>
      </div>
    </div>
  </div>


  <script>
 $(document).ready(function(){

$( "#user_prof" ).hide();   
 
  $(document).on('click', '#qweas', function() {
     $( "#user_prof" ).toggle();     
      });  
 })
</script>

{% endblock %}